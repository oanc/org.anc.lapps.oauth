<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:lapps="http://www.lappsgrid.org" th:include="layouts/bootstrap :: page">
<body>
<div th:fragment="content">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Client ID Applications</h1>
                <form action="#" th:action="@{/client/submit}" method="post" th:object="${clientData}">
                    <p>Please enter a URI for your application. This URI will be your <i>client id</i>
                        and should uniquely identify your service.  The URI does not have to be the
                        URI to the service itself, but it is recommended.</p>
                    <p>Press the <span class="btn btn-sm btn-success">Apply</span> button
                    to generate the client secret for your application.</p>
                    <table>
                        <tr>
                            <th>Name</th>
                            <td>
                                <input id="name" type="text" th:field="*{name}" size="40" onblur="checkName()"/>
                            </td>
                        </tr>
                    </table>
                    <p id="too-short" style="display: none; color: red">The name is too short.</p>
                    <input id="submit" type="submit" value="Apply" class="btn btn-success" disabled="disabled"/>
                </form>
            </div>
        </div>
    </div>
    <script type="application/javascript">
        function checkName() {
            var name = $("#name").val();
            if (name.length > 12) {
                $("#submit").attr("disabled", false);
                $("#too-short").hide();
            }
            else {
                $("#submit").attr("disabled", true);
                $("#too-short").show();
            }
        }
    </script>
</div>
</body>
</html>